(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/avatar.5f92255b.png"},193:function(e,t,a){e.exports=a(424)},198:function(e,t,a){},239:function(e,t,a){},243:function(e,t){},245:function(e,t){},279:function(e,t){},280:function(e,t){},322:function(e,t,a){},424:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),c=a.n(r),o=(a(198),a(14)),i=a(38),s=a(30),m=a(37),u=a.n(m),h=function(e){e?u.a.defaults.headers.common.Authorization=e:delete u.a.defaults.headers.common.Authorization},d=a(77),p=a.n(d),E=function(e){return{type:"SET_CURRENT_USER",payload:e}},f=function(e){return function(t){localStorage.removeItem("jwtToken"),console.log("TOKEN REMOVED ",localStorage.getItem("jwtToken")),h(!1),e.push("/"),t({type:"LOGOUT_USER",payload:!1})}},b=a(29),g=a(8),v=a(9),y=a(11),N=a(10),O=a(12),j=a(432),w=a(430),C=(a(61),a(431)),k=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(C.a,null,l.a.createElement(C.a.Group,{controlId:"formBasicEmail"},l.a.createElement(C.a.Label,null,"Email address"),l.a.createElement(C.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(t){return e.props.handleChange(t)}})),l.a.createElement(C.a.Group,{controlId:"formBasicPassword"},l.a.createElement(C.a.Label,null,"Password"),l.a.createElement(C.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:function(t){return e.props.handleChange(t)}})),l.a.createElement("center",null,l.a.createElement(j.a,{variant:"primary",onClick:this.props.onLogin},"Login"))))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(l)))).state={showLogin:!1,isLoggedin:!1,message:"",email:"",password:""},a.toggleLogin=function(){var e=a.state.showLogin;a.setState({showLogin:!e})},a.logout=function(){console.log(a.props.auth),a.props.logoutUser(a.props.history)},a.login=function(){var e=a.state,t={email:e.email,password:e.password};a.props.loginUser(t,a.props.history),console.log(a.props.auth),a.setState({isLoggedin:a.props.auth.isAuthenticated,message:"",email:"",password:"",showLogin:!1})},a.handleChange=function(e){console.log(e.target.name,e.target.value),a.setState(Object(b.a)({},e.target.name,e.target.value))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top",id:"mainNav"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand",href:"index.html"},"Scribbles"),l.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},"Menu",l.a.createElement("i",{className:"fas fa-bars"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/",className:"nav-link"},"Home")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/about",className:"nav-link"},"About")),this.props.auth.isAuthenticated?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/admin",className:"nav-link"},"Dashboard")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(j.a,{className:"nav-link",style:{color:"white",backgroundColor:"transparent",borderColor:"white"},onClick:this.logout},"Logout"))):l.a.createElement("li",{className:"nav-item"},l.a.createElement(j.a,{className:"nav-link",style:{color:"white",backgroundColor:"transparent",borderColor:"white"},onClick:this.toggleLogin},"Login")))))),l.a.createElement(w.a,{show:this.state.showLogin,onHide:this.toggleLogin},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement("center",null,l.a.createElement("h4",null," Welcome back Admin...! ")," ")),l.a.createElement(w.a.Body,null,l.a.createElement(k,{onLogin:this.login,handleChange:this.handleChange}),this.state.message)))}}]),t}(n.Component),A=Object(s.b)((function(e){return{auth:e.auth,isAuthenticated:e.isAuthenticated,err:e.err}}),{loginUser:function(e,t){return function(a){console.log(e),u.a.post("/api/auth/login",e).then((function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),h(n);var l=p()(n);a(E(l)),t.push("/admin")})).catch((function(e){return a({type:"GET_ERRORS",payload:e.response.data})}))}},logoutUser:f})(Object(i.f)(S)),T=a(36),x=a(191);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M={isAuthenticated:!1,user:{}},R=Object(T.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return P({},e,{isAuthenticated:!0,user:t.payload});case"LOGOUT_USER":return P({},e,{isAuthenticated:!1,user:null});default:return e}}}),_=[x.a],D=Object(T.e)(R,{},Object(T.d)(T.a.apply(void 0,_))),I=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("footer",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto"},l.a.createElement("ul",{className:"list-inline text-center"},l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"#"},l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x"}),l.a.createElement("i",{className:"fab fa-twitter fa-stack-1x fa-inverse"})))),l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"#"},l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x"}),l.a.createElement("i",{className:"fab fa-facebook-f fa-stack-1x fa-inverse"})))),l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"#"},l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x"}),l.a.createElement("i",{className:"fab fa-github fa-stack-1x fa-inverse"}))))),l.a.createElement("p",{className:"copyright text-muted"},"Copyright \xa9 Scribble 2019"))))))}}]),t}(n.Component),U=(a(239),a(109)),B=a.n(U),H=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("header",{className:"masthead"},l.a.createElement("div",{className:"overlay",style:{backgroundImage:"url('https://www.newstatesman.com/sites/default/files/styles/cropped_article_image/public/blogs_2019/07/bookclub_books.jpg?itok=2SzTuHtL&c=600b9519ec8cb0bccd5176301c4067b1')"}}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto"},l.a.createElement("div",{className:"site-heading"},this.props.isAbout?l.a.createElement("div",null,l.a.createElement("img",{style:{backgroundColor:"white",borderRadius:"4000px"},src:B.a,alt:"avatar",height:"150",width:"150"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Scribbles"),l.a.createElement("span",{className:"subheading"},"Things inside my head are now here"))))))))}}]),t}(n.Component),F=a(426),z=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(l)))).redirectToArticle=function(e){console.log(e),a.props.history.push({pathname:"/article/".concat(e)})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"post-preview"},l.a.createElement(o.b,{to:"#",onClick:function(){return e.redirectToArticle(e.props.articleId)}},l.a.createElement("h2",{className:"post-title"},this.props.articleTitle)," ",l.a.createElement("span",{style:{display:"inline"}},l.a.createElement("h3",{className:"post-subtitle"},this.props.articleSubtitle)),l.a.createElement("span",{style:{display:"inline"}})),l.a.createElement("p",{className:"post-meta"},"Posted by \xa0",l.a.createElement("a",{href:"#"},this.props.user),"\xa0 on ",this.props.createdOn," ",l.a.createElement(F.a,{variant:"info"},this.props.views," views"))),l.a.createElement("hr",null))}}]),t}(n.Component),G=Object(i.f)(z),J=a(42),V=a.n(J),W=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(l)))).state={articles:[],page:0},a.openArticle=function(e){a.props.history.push("/article/".concat(e))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/articles").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({articles:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.articles;return l.a.createElement("div",null,l.a.createElement(H,{title:"Article Title"}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto"},t.map((function(t,a){return l.a.createElement(G,{onClick:function(){return e.openArticle(t._id)},key:t._id,articleId:t._id,articleTitle:t.articleTitle,articleSubtitle:t.articleSubtitle,user:t.author,views:t.visits,createdOn:V()(t.createdOn).format("LL")})})),l.a.createElement("div",{className:""},l.a.createElement(j.a,{className:"btn btn-primary float-left"},"\u2190 Newer Posts"),l.a.createElement(j.a,{className:"btn btn-primary float-right"},"Older Posts \u2192"))))),l.a.createElement("hr",null))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(l)))).state={firstName:"",lastName:"",email:"",bio:""},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/profile").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({firstName:t[0].firstName,lastName:t[0].lastName,email:t[0].email,bio:t[0].bio})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(H,{isAbout:!0}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto",style:{fontFamily:"Lora"}},l.a.createElement("center",null,l.a.createElement("h1",null,this.state.firstName," ",this.state.lastName)),l.a.createElement("p",null,this.state.bio)))))}}]),t}(n.Component),K=a(427),$=a(428),q=a(186),Q=a(429),X=(a(240),function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(l)))).state={articles:[],totalPosts:0},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.auth.isAuthenticated),this.props.auth.isAuthenticated?fetch("/api/articles").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({articles:t})})).catch((function(e){console.log(e)})):(console.log("Hello"),this.props.history.push("/"))}},{key:"render",value:function(){var e=this.state.articles;return l.a.createElement("div",null,l.a.createElement("div",{className:"overlay",style:{backgroundColor:"black",height:"10vh"}}),l.a.createElement(K.a,null,l.a.createElement("div",{style:{marginTop:"2%"}},l.a.createElement("h2",{style:{float:"left"}}," Dashboard "),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(o.b,{to:"/profile"},l.a.createElement(j.a,{variant:"warning"}," Edit Profile ")),"\xa0",l.a.createElement(o.b,{to:"/add"},l.a.createElement(j.a,null," Create Article ")))),l.a.createElement("div",{style:{clear:"both"}},l.a.createElement($.a,{className:"mb-3",style:{borderRadius:"0px"}},l.a.createElement(q.a,{placeholder:"Search Articles","aria-label":"Search Articles","aria-describedby":"basic-addon2"}),l.a.createElement($.a.Append,null,l.a.createElement(j.a,{id:"basic-addon2"},l.a.createElement("i",{className:"fa fa-search"})))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-9"},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h4",null,"Latest Posts")),l.a.createElement(Q.a,{responsive:!0,class:"table table-striped"},l.a.createElement("thead",{class:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"S.No"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null),l.a.createElement("th",null))),l.a.createElement("tbody",null,e.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.articleTitle),l.a.createElement("td",null,e.articleCategory),l.a.createElement("td",null,V()(e.createdOn).format("ll")),l.a.createElement("td",null,l.a.createElement(o.b,{to:"/article/"+e._id},l.a.createElement("i",{class:"fas fa-eye"})," View")),l.a.createElement("td",null,l.a.createElement(o.b,{to:"/article/"+e._id},l.a.createElement("i",{class:"fas fa-edit"})," Edit")))})))))),l.a.createElement("div",{class:"col-md-3"},l.a.createElement("div",{class:"card text-center bg-primary text-white mb-3"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h3",null,"Posts"),l.a.createElement("h4",{class:"display-4"},l.a.createElement("i",{class:"fas fa-pencil-alt"})," ",e.length))),l.a.createElement("div",{class:"card text-center bg-success text-white mb-3"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h3",null,"Views"),l.a.createElement("h4",{class:"display-4"},l.a.createElement("i",{class:"fas fa-eye"})," 234"))))))),l.a.createElement("div",{style:{clear:"both"}}),l.a.createElement("hr",null))}}]),t}(n.Component)),Z=Object(s.b)((function(e){return{auth:e.auth,isAuthenticated:e.isAuthenticated,err:e.err}}))(Object(i.f)(X)),ee=(a(322),function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("header",{className:"masthead",style:{background:'url("https://wallup.net/wp-content/uploads/2017/03/28/270544-city-cityscape-Rio_de_Janeiro-Brazil-clouds-hill-sea-sunset-748x421.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh"}},l.a.createElement("div",{className:"overlay"}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto"},l.a.createElement("div",{className:"post-heading"},l.a.createElement("h1",null,this.props.articleTitle),l.a.createElement("h2",{className:"subheading"},this.props.articleSubtitle),l.a.createElement("span",{className:"meta"},"Posted by \xa0",l.a.createElement("a",{href:"#"},this.props.author)," \xa0 on"," ",V()(this.props.createdOn).format("LL"))))))))}}]),t}(n.Component));function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ae=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(l)))).state={article:{}},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.id),window.scrollTo(0,0),fetch("/api/articles/"+this.props.match.params.id).then((function(e){return e.json()})).then((function(t){console.log(t);var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}}({},e.state.article);a=t,e.setState({article:a},(function(){console.log(e.state.article)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.article;return l.a.createElement("div",null,l.a.createElement(ee,{articleTitle:e.articleTitle,articleSubtitle:e.articleSubtitle,author:e.author,createdOn:e.createdOn}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto"},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.articleContent}})))),l.a.createElement("hr",null))}}]),t}(n.Component),ne=a(187),le=a(192),re=a.n(le),ce=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(l)))).state={articleTitle:"",articleSubtitle:"",articleCategories:["Life","Travel","Romance"],articleCategory:"",articleCover:"",articleContent:"",author:"kishanlalbj",show:!1,message:""},a.handleChange=function(e){console.log(e.target.name,e.target.value),a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleEditor=function(e){a.setState({articleContent:e})},a.toggleModal=function(){var e=a.state.show;a.setState({show:!e})},a.postArticle=function(){var e=a.state,t=e.articleTitle,n=e.articleSubtitle,l=e.articleContent,r=e.author,c=e.articleCategory,o=(e.articleCategories,{articleTitle:t,articleSubtitle:n,articleCategory:c,articleContent:l,author:r});console.log(o),fetch("/api/articles/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({message:"Article Created Successfully"}),a.toggleModal()})).catch((function(e){a.setState({message:"Sorry. Your article cannot be posted"}),console.log(e)}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/")}},{key:"render",value:function(){var e=this.state;e.articleTitle,e.articleSubtitle,e.articleContent,e.author,e.articleCategory,e.articleCategories;return l.a.createElement("div",null,l.a.createElement("div",{className:"overlay",style:{backgroundColor:"black",height:"10vh"}}),l.a.createElement(K.a,{style:{marginTop:"10px"}},l.a.createElement("center",null,l.a.createElement("h2",null,"New Article")),l.a.createElement(C.a,null,l.a.createElement(C.a.Row,null,l.a.createElement(ne.a,null,l.a.createElement(C.a.Label,null,"Title"),l.a.createElement(C.a.Control,{placeholder:"Article Title",value:this.state.articleTitle,name:"articleTitle",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(C.a.Label,null,"Subtitle"),l.a.createElement(C.a.Control,{placeholder:"Article Subtitle",value:this.state.articleSubtitle,name:"articleSubtitle",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(C.a.Label,null," Category "),l.a.createElement(C.a.Control,{name:"articleCategory",value:this.state.articleCategory,onChange:this.handleChange,as:"select"},l.a.createElement("option",null,"Choose"),this.state.articleCategories.map((function(e,t){return l.a.createElement("option",{key:t},e)}))))),l.a.createElement("br",null),l.a.createElement(C.a.Row,null,l.a.createElement(ne.a,null,l.a.createElement(C.a.Label,null,"Article Content"),l.a.createElement(re.a,{style:{height:"50vh"},value:this.state.articleContent,onChange:this.handleEditor})))),l.a.createElement("center",{style:{clear:"both",marginTop:"50px"}},l.a.createElement(j.a,{variant:"primary",value:"Create",onClick:this.postArticle},"Create"),"\xa0",l.a.createElement(o.b,{to:"/admin"},l.a.createElement(j.a,{variant:"secondary",value:"Discard"},"Cancel")))),l.a.createElement(w.a,{show:this.state.show,onHide:this.toggleModal},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Message")),l.a.createElement(w.a.Body,null,l.a.createElement("p",null,this.state.message)),l.a.createElement(w.a.Footer,null,l.a.createElement(o.b,{to:"/admin"},l.a.createElement(j.a,{variant:"secondary"},"Close")))),l.a.createElement("br",null),l.a.createElement("hr",null))}}]),t}(n.Component),oe=Object(s.b)((function(e){return{auth:e.auth,isAuthenticated:e.isAuthenticated,err:e.err}}))(Object(i.f)(ce)),ie=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(l)))).state={id:"",firstName:"",lastName:"",avatar:"",email:"",bio:"",loader:0,showModal:!1,message:""},a.onSaveProfile=function(e){var t={id:e,firstName:a.state.firstName,lastName:a.state.lastName,email:a.state.email,bio:a.state.bio};console.log(t),u.a.post("/api/profile/update",t).then((function(e){console.log(e.data);var t=a.state.showModal;a.setState({id:e.data._id,firstName:e.data.firstName,lastName:e.data.lastName,email:e.data.email,bio:e.data.bio,showModal:!t,message:"Profile Updated Successfully"})})).catch((function(e){a.setState({message:"Error in updated successfully"}),console.groupEnd(e)}))},a.toggleModal=function(){var e=a.state.showModal;a.setState({showModal:!e})},a.uploadImage=function(e){console.log(e.target.files[0]),console.log("Image upload"),a.setState({avatar:e.target.files[0],loading:0},(function(){console.log(a.state.avatar)}))},a.updateImage=function(){var e=new FormData;e.append("profile",a.state.avatar),e.append("id",a.state.id),u()({method:"post",url:"/api/profile/upload",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){console.log(e.data),a.setState({avatar:""})})).catch((function(e){console.log(e)}))},a.handleChange=function(e){console.log(e.target.name,e.target.value),a.setState(Object(b.a)({},e.target.name,e.target.value))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.auth.isAuthenticated),this.props.auth.isAuthenticated?fetch("/api/profile").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({id:t[0]._id,firstName:t[0].firstName,lastName:t[0].lastName,avatar:t[0].avatar,email:t[0].email,bio:t[0].bio})})).catch((function(e){console.log(e)})):this.props.history.push("/")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"overlay",style:{backgroundColor:"black",height:"10vh"}}),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h3",null,"Your Avatar"),l.a.createElement("img",{src:"/uploads/avatar.png",alt:"avatar",style:{borderRadius:"10000px"},className:"d-block img-fluid mb-3"}),l.a.createElement("input",{type:"file",onChange:this.uploadImage}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.updateImage,className:"btn btn-danger btn-block"},"upload")),l.a.createElement("div",{className:"col-md-9"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h4",null,"Edit Profile")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"name"},"First Name"),l.a.createElement("input",{name:"firstName",type:"text",className:"form-control",value:this.state.firstName,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"name"},"Last Name"),l.a.createElement("input",{name:"lastName",type:"text",className:"form-control",value:this.state.lastName,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"email"},"Email"),l.a.createElement("input",{name:"email",type:"email",className:"form-control",value:this.state.email,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"bio"},"Bio"),l.a.createElement("textarea",{className:"form-control",name:"bio",value:this.state.bio,onChange:this.handleChange})),l.a.createElement("center",null,l.a.createElement(j.a,{onClick:this.onSaveProfile.bind(this,this.state.id),variant:"primary"},"Save Changes"),"\xa0",l.a.createElement(o.b,{to:"/admin"},l.a.createElement(j.a,{variant:"secondary"},"Cancel"))))))))),l.a.createElement(w.a,{show:this.state.showModal,onHide:this.toggleModal},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Message")),l.a.createElement(w.a.Body,null,l.a.createElement("p",null,this.state.message)),l.a.createElement(w.a.Footer,null,l.a.createElement(j.a,{onClick:this.toggleModal,variant:"secondary"},"Close"))))}}]),t}(n.Component),se=Object(s.b)((function(e){return{auth:e.auth,isAuthenticated:e.isAuthenticated,err:e.err}}))(Object(i.f)(ie));if(localStorage.jwtToken){h(localStorage.jwtToken);var me=p()(localStorage.jwtToken);D.dispatch(E(me));var ue=Date.now()/1e3;me.exp<ue&&(D.dispatch(f()),window.location.href="/")}var he=function(){return l.a.createElement(s.a,{store:D},l.a.createElement("div",{className:""},l.a.createElement(o.a,null,l.a.createElement(A,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:W}),l.a.createElement(i.a,{exact:!0,path:"/profile",component:se}),l.a.createElement(i.a,{exact:!0,path:"/about",component:Y}),l.a.createElement(i.a,{exact:!0,path:"/admin",component:Z}),l.a.createElement(i.a,{exact:!0,path:"/article/:id",component:ae}),l.a.createElement(i.a,{exact:!0,path:"/add",component:oe})),l.a.createElement(I,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(422),a(423);c.a.render(l.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,a){}},[[193,1,2]]]);
//# sourceMappingURL=main.0c9b4e30.chunk.js.map